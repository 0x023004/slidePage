(function(i){var j=location.search?q(location.search).page:1;var a={index:j,pageContainer:".item",after:function(){},before:function(){},prev:function(){},next:function(){},speed:false,refresh:false,useWheel:true,useKeyboard:true,useArrow:false,useAnimation:true,};var f=true;var y;var x=true;var p=a.index-1;var A=i(a.pageContainer).css("transition-duration").replace("s","")*1000;var w=i(a.pageContainer).length;window.slidePage={init:function(H,I){i.extend(a,H);r(a);d(a);I&&I.call(this)},index:function(H){if(H>0){H=parseInt(H)-1;if(H>p){for(var I=p;I<H;I++){z(i(a.pageContainer).eq(I))}}else{if(H<p){for(var I=p;I>=H;I--){n(i(a.pageContainer).eq(I+1))}}}p=H;e()}return p},next:function(){if(x&&p<w-1){z(i(a.pageContainer).eq(p++));x=false}},prev:function(){if(x&&p>0){n(i(a.pageContainer).eq(p--));x=false}},fire:function(H){C(H)}};var u={nextSlide:function(H){H.css(t("-100%"));H.next().css(t("0"))},prevSlide:function(H){H.prev().css({"-webkit-transform":"scale(1)",transform:"scale(1)"});H.css(t("100%"))},showSlide:function(H){H.css({"-webkit-transform":"scale(1)",transform:"scale(1)"});H.next().css(t("100%"))}};function k(){var H=navigator.userAgent;var K=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];var I=true;for(var J=0;J<K.length;J++){if(H.indexOf(K[J])>0){I=false;break}}return I}function t(H){return{"-webkit-transform":"translate3d(0px, "+H+" 0px)",transform:"translate3d(0px, "+H+", 0px)"}}function e(){if(a.refresh&&x&&a.useAnimation){x=="next"?i(a.pageContainer).eq(p).find(".step").addClass("hide"):i(a.pageContainer).eq(p).find(".step").addClass("hide")}if(p+1==w){i(a.pageContainer).parent().find(".arrow").addClass("hide")}else{i(a.pageContainer).parent().find(".arrow").removeClass("hide")}}function q(K){var J={};if(/\?/.test(K)){var I=K.substring(K.indexOf("?")+1);var N=I.split("&");for(var L=0,H=N.length;L<H;L++){var O=N[L];var M=O.split("=");J[M[0]]=M[1]}return J}}function z(H){if(H.next().length){currentItem=H.next();E(H.next(),"next");u.nextSlide(H)}else{u.showSlide(H)}a.next(H.index()+1);a.before(H.index()+1);keyindex=i(a.pageContainer).index(H);e()}function n(H){if(H.prev().length){currentItem=H.prev();E(H.prev(),"prev");u.prevSlide(H);H.prev().prev().css(t("-100%"))}else{u.showSlide(H)}a.prev(H.index());a.before(H.index()+1);keyindex=i(a.pageContainer).index(H);e()}function r(I){if(!!I.speed){i(I.pageContainer).css({"transition-duration":I.speed+"ms","-webkit-transition-duration":I.speed+"ms"})}currentItem=i(I.pageContainer).eq(I.index-1);y=currentItem.prev();currentItem.css(t(0));y.css(t("-100%"));if(!!I.useAnimation){var H=i(I.pageContainer);H.find(".step").addClass("hide");H.find(".lazy").addClass("hide");E(H.eq(I.index-1))}if(!!I.useArrow){i("#slidePage-container").append('<span class="arrow"></span>')}}function E(I,J){f=true;setTimeout(function(){x=J||x},a.speed||A);var H=i(I).find(".step");H.each(function(K,L){var M=i(L).attr("data-delay")||100;setTimeout(function(){i(L).removeClass("hide")},M)})}function C(H){var J=i(a.pageContainer).eq(H-1);var I=J.find(".lazy");I.each(function(K,L){var M=i(L).attr("data-delay")||100;setTimeout(function(){i(L).removeClass("hide")},M)})}function d(H){function I(J){var J=J||window.event;if(J.wheelDeltaY<0||J.wheelDelta<0||J.detail>0){slidePage.next()}else{if(J.wheelDeltaY>0||J.wheelDelta>0||J.detail<0){slidePage.prev()}}}if(!!H.useWheel){document.onmousewheel=I;document.addEventListener&&document.addEventListener("DOMMouseScroll",I,false)}if(!!H.useKeyboard){document.onkeydown=function(J){if(J.keyCode=="40"&&x&&p<w-1){slidePage.next()}else{if(J.keyCode=="38"&&x&&p>0){slidePage.prev()}}}}i("#slidePage-container").on("touchmove",function(J){J.preventDefault()});i(H.pageContainer).on({swipeUp:function(){slidePage.next()},swipeDown:function(){slidePage.prev()}});i(H.pageContainer).on("transitionend webkitTransitionEnd",function(J){if(f){H.after(i(J.target).index()+1);f=false}})}var l={},b,v,B,G,F=750,h;function g(I,H,K,J){return Math.abs(I-H)>=Math.abs(K-J)?(I-H>0?"Left":"Right"):(K-J>0?"Up":"Down")}function s(){G=null;if(l.last){l.el.trigger("longTap");l={}}}function D(){if(G){clearTimeout(G)}G=null}function o(){if(b){clearTimeout(b)}if(v){clearTimeout(v)}if(B){clearTimeout(B)}if(G){clearTimeout(G)}b=v=B=G=null;l={}}function m(H){return(H.pointerType=="touch"||H.pointerType==H.MSPOINTER_TYPE_TOUCH)&&H.isPrimary}function c(I,H){return(I.type=="pointer"+H||I.type.toLowerCase()=="mspointer"+H)}i(document).ready(function(){var I,M,J=0,K=0,L,H;if("MSGesture" in window){h=new MSGesture();h.target=document.body}i(document).bind("MSGestureEnd",function(O){var N=O.velocityX>1?"Right":O.velocityX<-1?"Left":O.velocityY>1?"Down":O.velocityY<-1?"Up":null;if(N){l.el.trigger("swipe");l.el.trigger("swipe"+N)}}).on("touchstart MSPointerDown pointerdown",function(N){N.Touches=N.originalEvent?N.originalEvent.changedTouches:N.touches;if((H=c(N,"down"))&&!m(N)){return}L=H?N:N.Touches[0];if(N.Touches&&N.Touches.length===1&&l.x2){l.x2=undefined;l.y2=undefined}I=Date.now();M=I-(l.last||I);l.el=i("tagName" in L.target?L.target:L.target.parentNode);b&&clearTimeout(b);l.x1=L.pageX;l.y1=L.pageY;if(M>0&&M<=250){l.isDoubleTap=true}l.last=I;G=setTimeout(s,F);if(h&&H){h.addPointer(N.pointerId)}}).on("touchmove MSPointerMove pointermove",function(N){N.Touches=N.originalEvent?N.originalEvent.changedTouches:N.touches;if((H=c(N,"move"))&&!m(N)){return}L=H?N:N.Touches[0];D();l.x2=L.pageX;l.y2=L.pageY;J+=Math.abs(l.x1-l.x2);K+=Math.abs(l.y1-l.y2)}).on("touchend MSPointerUp pointerup",function(N){if((H=c(N,"up"))&&!m(N)){return}D();if((l.x2&&Math.abs(l.x1-l.x2)>30)||(l.y2&&Math.abs(l.y1-l.y2)>30)){B=setTimeout(function(){l.el.trigger("swipe");l.el.trigger("swipe"+(g(l.x1,l.x2,l.y1,l.y2)));l={}},0)}else{if("last" in l){if(J<30&&K<30){v=setTimeout(function(){var O=i.Event("tap");O.cancelTouch=o;l.el.trigger(O);if(l.isDoubleTap){if(l.el){l.el.trigger("doubleTap")}l={}}else{b=setTimeout(function(){b=null;if(l.el){l.el.trigger("singleTap")}l={}},250)}},0)}else{l={}}}}J=K=0}).on("touchcancel MSPointerCancel pointercancel",o);i(window).on("scroll",o)});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(H){i.fn[H]=function(I){return this.on(H,I)}})})($);