(function(i){var j=location.search?q(location.search).page:1;var a={index:j,pageContainer:".item",after:function(){},before:function(){},prev:function(){},next:function(){},speed:false,refresh:false,useWheel:true,useKeyboard:true,useArrow:false,useAnimation:true,};var f=true;var x;var w=true;var p=a.index-1;var z=i(a.pageContainer).css("transition-duration").replace("s","")*1000;var v=i(a.pageContainer).length;window.slidePage={init:function(F,G){i.extend(a,F);r(a);d(a);G&&G.call(this)},index:function(F){if(F>0){F=parseInt(F)-1;if(F>p){for(var G=p;G<F;G++){y(i(a.pageContainer).eq(G))}}else{if(F<p){for(var G=p;G>=F;G--){n(i(a.pageContainer).eq(G+1))}}}p=F;e()}return p},next:function(){if(w&&p<v-1){y(i(a.pageContainer).eq(p++));w=false}},prev:function(){if(w&&p>0){n(i(a.pageContainer).eq(p--));w=false}},};var t={nextSlide:function(F){F.css("-webkit-transform","translate3d(0,-100%,0)");F.next().css("-webkit-transform","translate3d(0,0,0)")},prevSlide:function(F){F.prev().css("-webkit-transform","scale(1)");F.css("-webkit-transform","translate3d(0,100%,0)")},showSlide:function(F){F.css("-webkit-transform","scale(1)");F.next().css("-webkit-transform","translate3d(0,100%,0)")}};function k(){var F=navigator.userAgent;var I=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];var G=true;for(var H=0;H<I.length;H++){if(F.indexOf(I[H])>0){G=false;break}}return G}function e(){if(a.refresh&&w&&a.useAnimation){w=="next"?i(a.pageContainer).eq(p).find(".step").addClass("hide"):i(a.pageContainer).eq(p).find(".step").addClass("hide")}if(p+1==v){i(a.pageContainer).parent().find(".arrow").addClass("hide")}else{i(a.pageContainer).parent().find(".arrow").removeClass("hide")}}function q(I){var H={};if(/\?/.test(I)){var G=I.substring(I.indexOf("?")+1);var L=G.split("&");for(var J=0,F=L.length;J<F;J++){var M=L[J];var K=M.split("=");H[K[0]]=K[1]}return H}}function y(F){if(F.next().length){currentItem=F.next();C(F.next(),"next");t.nextSlide(F)}else{t.showSlide(F)}a.next(F.index()+1);a.before(F.index()+1);keyindex=i(a.pageContainer).index(F);e()}function n(F){if(F.prev().length){currentItem=F.prev();C(F.prev(),"prev");t.prevSlide(F);F.prev().prev().css("-webkit-transform","translate3d(0px, -100%, 0px)")}else{t.showSlide(F)}a.prev(F.index());a.before(F.index()+1);keyindex=i(a.pageContainer).index(F);e()}function r(G){if(!!G.speed){i(G.pageContainer).css({"transition-duration":G.speed+"ms","-webkit-transition-duration":G.speed+"ms"})}currentItem=i(G.pageContainer).eq(G.index-1);x=currentItem.prev();currentItem.css("-webkit-transform","translate3d(0px, 0px, 0px)");x.css("-webkit-transform","translate3d(0px, -100%, 0px)");if(!!G.useAnimation){var F=i(G.pageContainer);F.find(".step").addClass("hide");C(F.eq(G.index-1))}if(!!G.useArrow){i("#slidePage-container").append('<span class="arrow"></span>')}}function C(G,H){f=true;setTimeout(function(){w=H||w},a.speed||z);var F=i(G).find(".step");F.each(function(I,J){var K=i(J).attr("data-delay")||100;setTimeout(function(){i(J).removeClass("hide")},K)})}function d(F){if(!!F.useWheel){document.onmousewheel=function(G){if(G.wheelDeltaY<0){slidePage.next()}else{if(G.wheelDeltaY>0){slidePage.prev()}}}}if(!!F.useKeyboard){document.onkeydown=function(G){if(G.keyCode=="40"&&w&&p<v-1){slidePage.next()}else{if(G.keyCode=="38"&&w&&p>0){slidePage.prev()}}}}i("#slidePage-container").on("touchmove",function(G){G.preventDefault()});i(F.pageContainer).on({swipeUp:function(){slidePage.next()},swipeDown:function(){slidePage.prev()}});i(F.pageContainer).on("transitionend webkitTransitionEnd",function(G){if(f){F.after(i(G.target).index()+1);f=false}})}var l={},b,u,A,E,D=750,h;function g(G,F,I,H){return Math.abs(G-F)>=Math.abs(I-H)?(G-F>0?"Left":"Right"):(I-H>0?"Up":"Down")}function s(){E=null;if(l.last){l.el.trigger("longTap");l={}}}function B(){if(E){clearTimeout(E)}E=null}function o(){if(b){clearTimeout(b)}if(u){clearTimeout(u)}if(A){clearTimeout(A)}if(E){clearTimeout(E)}b=u=A=E=null;l={}}function m(F){return(F.pointerType=="touch"||F.pointerType==F.MSPOINTER_TYPE_TOUCH)&&F.isPrimary}function c(G,F){return(G.type=="pointer"+F||G.type.toLowerCase()=="mspointer"+F)}i(document).ready(function(){var G,K,H=0,I=0,J,F;if("MSGesture" in window){h=new MSGesture();h.target=document.body}i(document).bind("MSGestureEnd",function(M){var L=M.velocityX>1?"Right":M.velocityX<-1?"Left":M.velocityY>1?"Down":M.velocityY<-1?"Up":null;if(L){l.el.trigger("swipe");l.el.trigger("swipe"+L)}}).on("touchstart MSPointerDown pointerdown",function(L){L.Touches=L.originalEvent?L.originalEvent.changedTouches:L.touches;if((F=c(L,"down"))&&!m(L)){return}J=F?L:L.Touches[0];if(L.Touches&&L.Touches.length===1&&l.x2){l.x2=undefined;l.y2=undefined}G=Date.now();K=G-(l.last||G);l.el=i("tagName" in J.target?J.target:J.target.parentNode);b&&clearTimeout(b);l.x1=J.pageX;l.y1=J.pageY;if(K>0&&K<=250){l.isDoubleTap=true}l.last=G;E=setTimeout(s,D);if(h&&F){h.addPointer(L.pointerId)}}).on("touchmove MSPointerMove pointermove",function(L){L.Touches=L.originalEvent?L.originalEvent.changedTouches:L.touches;if((F=c(L,"move"))&&!m(L)){return}J=F?L:L.Touches[0];B();l.x2=J.pageX;l.y2=J.pageY;H+=Math.abs(l.x1-l.x2);I+=Math.abs(l.y1-l.y2)}).on("touchend MSPointerUp pointerup",function(L){if((F=c(L,"up"))&&!m(L)){return}B();if((l.x2&&Math.abs(l.x1-l.x2)>30)||(l.y2&&Math.abs(l.y1-l.y2)>30)){A=setTimeout(function(){l.el.trigger("swipe");l.el.trigger("swipe"+(g(l.x1,l.x2,l.y1,l.y2)));l={}},0)}else{if("last" in l){if(H<30&&I<30){u=setTimeout(function(){var M=i.Event("tap");M.cancelTouch=o;l.el.trigger(M);if(l.isDoubleTap){if(l.el){l.el.trigger("doubleTap")}l={}}else{b=setTimeout(function(){b=null;if(l.el){l.el.trigger("singleTap")}l={}},250)}},0)}else{l={}}}}H=I=0}).on("touchcancel MSPointerCancel pointercancel",o);i(window).on("scroll",o)});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(F){i.fn[F]=function(G){return this.on(F,G)}})})($);